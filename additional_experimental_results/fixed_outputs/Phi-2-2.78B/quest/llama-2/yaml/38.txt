#!/bin/bash

game=$1
objective=$2
quest_giver=$3
reward=$4
tasks=""
title="$title"

task=0;
while [ "$task" -le $(( $TOTAL_NUMBER_OF_TASKS )) ]; do

  # Select a random task from the available tasks
  if [[ $TASK_COUNTER = 0 ]]; then
    set TASK_COUNTER=1;
    while [ "$task" -le $(( $TOTAL_NUMBER_OF_TASKS )) ]; do
      index=$(shuf -n 1 -i 1-${TASKS_LENGTH})
      echo "Task: ${TASKS[$index]}"
      if [[ $TASKS[$index] = *"Find the lost treasure of the pirate king"* ]]; then
        task=$(expr $task+1)
        break;
      fi
    done
  fi

  # Add the selected task to the output string and update the counters
  tasks="${tasks} Task: ${TASKS[$index]}\n"
  (( TASK_COUNTER++ ))
done

echo "Quest title: $title"
echo "- Objective: $objective"
echo "\n- Quest giver: $quest_giver"
echo "\n- Reward: $reward"
echo "\n- Available tasks:"
echo "${tasks//$/}"
```

