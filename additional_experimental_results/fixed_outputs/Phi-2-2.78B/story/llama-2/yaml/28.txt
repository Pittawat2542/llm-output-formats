```
import pytest
from requests_html import HTMLSession


@pytest.mark.parametrize(
    "response", [
        ({"beginning": "The beginning of the game"},),
        ({"endings": ["the ending of the game"]},),
        ({"endings": ["the end of the game"]},),
        ({"endings": ["The End of the Game"],},),
        ({"endings": ["END OF THE GAME"]},),
    ]
)
def test_get_beginnings_and_endings(response):
    """Test if the correct get_beginning_and_endings function is called."""
    session = HTMLSession()

    data = session.post("https://api.game.com/games", json=response)
    assert data == response


@pytest.mark.parametrize(
    "response", [{"beginnings": ["the beginning of the game"]}, {"endings": ["the ending of the game"]}]
)
def test_get_beginning_and_endings_with_nonexistent_key(response):
    """Test if a KeyError is thrown when calling get_beginnings_and_endings."""
    session = HTMLSession()

    data = session.post("https://api.game.com/games", json=response)
    assert data == response
