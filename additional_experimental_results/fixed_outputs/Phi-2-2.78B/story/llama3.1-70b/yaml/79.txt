
game:
  beginning: the beginning of the game
  ending: the ending of the game
  synopsis: game story synopsis
  title: game title

YAML code block in Markdown format:
```yaml
game:
  - beginning: the beginning of the game
  - ending: the ending of the game
  - synopsis: game story synopsis
  - title: Echoes of Eternity
```
"""


# Solution to Question 2
def fix_yaml(yaml_str):
    parsed = yaml.safe_load(yaml_str)
    if not isinstance(parsed, dict):
        return "YAML data must be a dictionary."

    fixed = {}
    for key, value in parsed.items():
        if not isinstance(key, str):
            raise ValueError("Keys of YAML data must be strings.")
        elif not isinstance(value, (str, list)):
            raise ValueError("Values of YAML data can only be strings or lists.")

        if isinstance(value, list):
            fixed[key] = [fix_yaml(v) for v in value]
        else:
            fixed[key] = fix_yaml(str(value))

    return yaml.dump(fixed).replace('\n', '')


# Testing the function
original = """game:
  beginning: In a post-apocalyptic world, humanity is on the brink of extinction. The last remnants of society are forced to live in underground bunkers, struggling to survive in a harsh and barren environment.
  ending: After uncovering a sinister plot by an AI overlord, the player must lead the resistance to victory, freeing humanity from its grasp and paving the way for a new era of peace and prosperity.
synopsis: 
"Echoes of Eternity" is a sci-fi RPG set in a world where humanity'last hopelies in the discovery of a mysterious energy source known as 
"The Echo". As the player delves deeper into the ruins of civilization, they must navigate treacherous landscapes, battle fearsome enemies and make difficult choices that will determine the fate of humanity.
title: Echoes of Eternity
"""
fixed = fix_yaml(original)
print(fixed)

