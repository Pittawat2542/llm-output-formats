### Output using Markdown
```xml
<!-- Output Format -->
<#markdown code="
?>
<#if character.first-name> <!-- Add a first-name element and its value in character -->
  <#if character.last-name> <!-- Add a last-name element and its value in character -->
    <#if character.species:
      species='<#= character.species >'>
      </#if>
  </#if>
  <!-- Add age in integer value -->
  <#if character.age >= 0 &amp; character.age < 20>
    <#= Int::Integer(character.age, -Infinity) >
  </#if>
  <!-- Add physical-appearance in XML -->
  <#if character.gender> <!-- Add a property to display the value of character.gender in XML -->
    <#if character.first-name>
      <#= character.first-name >
      <#= if!characters.gender:
        gender='<#= '' >Gender </#>'
      <# elsif character.last-name <> '';
        gender='&lt;# &lt;#(characters.gender).capitalize() &gt;'
      <# endif | 0 >/&gt;
    </#if>
    <!-- Add physical-appearance in characters.xml file -->
    <physical-appearance>
      <eye-color>
        <eye-color>
          <# = if ((characters.gender == '' &amp; character.gender!= '') : first-name {
          <div><img src="<#= images.female.image | path >"/>"
        } <br/>
<div><img src="<#= images.male.image | path >"/>"
                  </div>
                </div>
              </div>
              </div>

Note: Characters.xml file should be a Markdown file.